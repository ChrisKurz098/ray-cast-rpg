onmessage=function(a){let{player:t,buffer:e,strips:s,tileData:n,tileData2:o,tileSize:l,h:r,w:i}=a.data;e.forEach((a=>{if(a.sprite)return!1;{const e=function(a,t,e){const s=t-e;return a*Math.cos(s)}(a.distance,a.angle,t.angle),c=Math.floor(l/e*t.projDist),d=a.sx,f=Math.floor(r/2-c/2),h=Math.abs(a.angle-t.angle);for(let g=f+c;g<=r;g++){const e=g-r/2,c=t.z/e*t.projDist/Math.cos(h);let f=t.x+Math.cos(a.angle)*c,M=t.y+Math.sin(a.angle)*c;f&=l-1,M&=l-1;let p=4*(g*i+d);const u=4*(32*f+M),D=c/4;s.data[p]=n[u]-D,s.data[p+1]=n[u+1]-D,s.data[p+2]=n[u+2]-D,s.data[p+3]=255,p=4*((r-g)*i+d),s.data[p]=o[u]-D+25,s.data[p+1]=o[u+1]-D+25,s.data[p+2]=o[u+2]-D+25,s.data[p+3]=255}}})),postMessage(s)};
//# sourceMappingURL=floorCeil.worker.15630a33.worker.js.map