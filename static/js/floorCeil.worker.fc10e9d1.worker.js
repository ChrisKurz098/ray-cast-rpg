onmessage=function(a){let{player:t,buffer:e,strips:s,tileData:n,tileSize:o,h:l,w:r}=a.data;e.forEach((a=>{if(a.sprite)return!1;{const e=function(a,t,e){const s=t-e;return a*Math.cos(s)}(a.distance,a.angle,t.angle),i=Math.floor(o/e*t.projDist),c=a.sx,d=Math.floor(l/2-i/2),f=Math.abs(a.angle-t.angle);for(let h=d+i;h<=l;h++){const e=h-l/2,i=t.z/e*t.projDist/Math.cos(f);let d=t.x+Math.cos(a.angle)*i,g=t.y+Math.sin(a.angle)*i;d&=o-1,g&=o-1;let M=4*(h*r+c);const p=4*(32*d+g),u=i/3;s.data[M]=n[p]-u,s.data[M+1]=n[p+1]-u,s.data[M+2]=n[p+2]-u,s.data[M+3]=255,M=4*((l-h)*r+c),s.data[M]=n[p]-u,s.data[M+1]=n[p+1]-u,s.data[M+2]=n[p+2]-u,s.data[M+3]=255}}})),postMessage(s)};
//# sourceMappingURL=floorCeil.worker.fc10e9d1.worker.js.map